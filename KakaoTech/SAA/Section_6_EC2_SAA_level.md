#### Private vs Public IP (IPv4)
Public IP
Private IP
- NAT 장치와 프록시 역할을 할 IGW를 통해 외부의 인터넷과 통신
- 지정된 범위의 IP만 사설 IP로 사용 가능 
Elastic IP
- 시작, 중지할때 공용 IP를 바꿀 수 있습니다.
- 고정된 IP를 사용하려할때 필요
- 임의의 공용 IP를 써서 DNS 이름을 할당하는 것을 추천

활성화 되어 있는 경우 시간당 0.005 달러 비용 부과

#### Placement Groups 배치 그룹
- EC2 인스턴스가 AWS 인프라에 배치되는 방식
종류
- Cluster
	- 같은 AZ
	- 빠른 네트워크 성능
	- 하드웨어 문제로 장애 발생 시 한번에 끝남
	- ex. 빅데이터, 처리량 많을때
- Spread - critical applications / 분산 배치 그룹
	- 인스턴스 그룹이 물리적으로 분리된 하드웨어에 배치
	- 장애 발생 시 동시에 실패할 위험 감소
	- 최대 7개 인스턴스
	- 크리티컬 애플리케이션 / 높은 가용성 요구
- Partition 분할 배치 그룹
	- 인스턴스 그룹이 물리적으로 분리된 파티션에 배치(서버 랙)
	- 각 파티션 내 여러 인스턴스를 배치
	- 높은 확장성 > 수백개의 인스턴스를 분산 배치

#### Elastic Network Interfaces ENI

4가지 속성
1. 주요 사설 IPv4와 하나 이상의 보조 IPv4를 가질 수 있다.
2. 각 ENI는 사설 IPv4당 탄력적 IPv4를 갖거나 하나의 공용 IPv4를 가질 수 있으므로 사설 또는 공용 IP가 한개 씩 제공
3. ENI에 하나 이상의 보안 그룹을 연결
4. 맥 주소를 연결

- EC2 인스턴스와 독립적으로 ENI를 생성하고 연결하거나, 장애 대응을 위해 인스터스에서 이동 시킬 수 있다.
	- 그니깐 택배받는 주소는 그대로인데 이걸 주소는 냅두고 진짜 집은 바꿔치기 한다는거지?
	-  택배받는 주소(IP 주소)는 그대로 두고, 실제 집(EC2 인스턴스)만 바꿔치기하는 것과 같습니다.
- AZ에 속함

#### EC2 Hibernate 모드(절전)
일반적인 인스턴스 루틴
- 중지 - EBS 안사라지고 대기
- 종료 - EBS 같이 사라짐

1. 다시 시작하면 운영체제가 먼저 부팅되기 시작
2. 사용자 데이터 스크립트 실행
3. 부팅 완료
4. 애플리케이션 실행되고 캐시도 구성되기 시작

절전 모드
- 램에 있던 메모리 상태는 그대로 보존 > 부팅이 빨라짐
- 백그라운드에서 램에 기록된 인 메모리 상태는 루트 경로의 EBS 볼륨에 기록되어 루트 EBS 볼륨을 암호화해야 하고 볼륨 용량도 RAM을 저장하기에 충분해야함 
- 최대 60일


사용사례
- 오래 걸리는 프로세스일때
- 램 상태 저장
- 빠르게 재부팅 필요할때
- 초기 세팅이 시간을 많이 잡아먹는 경우


#### 퀴즈
1. NodeJS 애플리케이션을 호스트하게 될 EC2 인스턴스를 실행했습니다. 모든 필수 소프트웨어를 설치하고 애플리케이션을 구성한 후, 액세스를 위해 EC2 인스턴스 공용 IPv4를 기록해 두었습니다. 그 다음, 실행을 중단하고 애플리케이션 구성을 완료하기 위해 EC2 인스턴스를 다시 시작했습니다. 그러나 재시작 후, EC2 인스턴스에 액세스할 수 없었으며 EC2 인스턴스 공용 IPv4가 변경된 것을 알게 되었습니다. 이 경우, EC2 인스턴스에 고정적인 공용 IPv4를 할당하려면 어떻게 해야 할까요?
	- EC2 인스턴스에 탄력적 ip 할당
	- ec2 인스턴스 os에서, 네트워크 구성을 dhcp에서 정적으로 변경한 뒤 공용 ipv4에 할당
	- aws 지원 센터에 연락해 ec2 인스턴스를 위한 정적 공용 ipv4 요청
		- 불가능합니다. AWS 지원 센터에서 지원하지 않는 사항입니다.
	- 불가능, ec2 인스턴스에는 고정 사설 ipv만 할당 가능
		- 공용 및 사설 IPv4 모두 EC2 인스턴스에 할당할 수 있습니다.
2. EC2 인스턴스 플릿에서 대규모의 데이터 분석을 수행하는 애플리케이션이 있습니다. 여러분은 EC2 인스턴스들이 서로 소통하면서도 가장 높은 수준의 네트워킹 성능을 유지했으면 합니다. 이런 경우, 다음 중 어떤 EC2 배치 그룹을 선택해야 할까요?
	- 분산 배치 그룹
	- 클러스터 배치 그룹
	- 분할 배치 그룹
3. EC2 인스턴스 플릿에 호스팅된 중요 애플리케이션이 있습니다. 이 애플리케이션에서 AZ 실패가 일어난 경우, 최대 가용성을 달성했으면 합니다. 이런 경우, 다음 중 어떤 EC2 배치 그룹을 선택해야 할까요?
	- 분산 배치 그룹
	- 클러스터 배치 그룹
	- 분할 배치 그룹
4. 탄력적 네트워크 인터페이스(ENI)는 다른 AZ에 있는 EC2 인스턴스와 연결될 수 있습니다.
	- 아닙니다
5. EC2 절전 모드와 관련된 내용 중, 옳지 않은 설명을 고르세요.
	- EC2 인스턴스 루트 볼륨은 반드시 인스턴스 스토어 볼륨이어야 함
		- EC2 절전 모드를 활성화하기 위해서는 EC2 인스턴스 루트 볼륨 유형이 EBS 볼륨이어야만 하며, 민감한 내용을 보호할 수 있도록 암호화되어야 합니다.
	- 온디맨드 및 예약 인스턴스를 지원함
	- EC2 인스턴스 RAM은 150GB 미만이어야 함
	- EC2 인스턴스 루트 볼륨 유형은 EBS 볼륨이어야 함
